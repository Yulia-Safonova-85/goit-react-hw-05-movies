"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[582],{354:function(e,n,t){t.d(n,{Bt:function(){return p},Tg:function(){return s},UP:function(){return l},hd:function(){return u},y:function(){return d}});var r=t(861),i=t(757),o=t.n(i),a=t(243);a.Z.defaults.baseURL="https://api.themoviedb.org/3",a.Z.defaults.params={api_key:"d3ed4ffb60d13827c3ec286dc736d3f2",include_adult:!1};var c="https://image.tmdb.org/t/p/w500",s=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get("/trending/all/day?").then((function(e){return e.data.results.map((function(e){var n=e.id,t=e.title,r=e.poster_path;return{id:n,title:t,poster:c+r}}))})).catch((function(e){console.log(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){return a.Z.get("/movie/".concat(e,"?")).then((function(e){var n=e.data,t=n.id,r=n.poster_path,i=n.title,o=n.release_date,a=n.vote_average,s=n.overview,u=n.genres;return{id:t,poster:c+r,title:i,releaseYear:new Date(o).getFullYear(),userScore:Math.round(10*a),overview:s,genres:u}})).catch((function(e){console.log(e.message)}))},l=function(){var e=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get("/search/movie?query=".concat(n)).then((function(e){return e.data.results.map((function(e){var n=e.id,t=e.title,r=e.poster_path;return{id:n,title:t,poster:c+r}}))})).catch((function(e){console.log(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(e){return a.Z.get("/movie/".concat(e,"/credits?")).then((function(e){return e.data.cast.map((function(e){var n=e.id,t=e.name,r=e.character,i=e.profile_path;return{id:n,name:t,character:r,photo:c+i}}))})).catch((function(e){console.log(e.message)}))},p=function(e){return a.Z.get("/movie/".concat(e,"/reviews?")).then((function(e){return e.data.results.map((function(e){return{id:e.id,author:e.author,content:e.content}}))})).catch((function(e){console.log(e.message)}))}},582:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r,i,o,a,c,s=t(439),u=t(354),l=t(87),d=t(689),p=t(791),f=t(168),h=t(444),x=h.ZP.div(r||(r=(0,f.Z)(["\n  display: flex;\n  padding: 30px;\n  background-color: #3f51b542;\n  margin: 20px 30px 30px;\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n"]))),v=h.ZP.img(i||(i=(0,f.Z)(["\n  width: 250px;\n"]))),m=h.ZP.div(o||(o=(0,f.Z)(["\n  padding-left: 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]))),g=h.ZP.h3(a||(a=(0,f.Z)(["\n  margin-left: 35px;\n  margin-bottom: 0;\n"]))),j=(0,h.ZP)(l.rU)(c||(c=(0,f.Z)(["\n  color: darkblue;\n  font-weight: 600;\n  \n  &.active {\n    color: orangered;\n    font-weight: 700;\n    transform: scale(1.1);\n  }\n \n"]))),w=t(184),Z=function(){var e,n,t=(0,d.UO)().movieId,r=(0,p.useState)(null),i=(0,s.Z)(r,2),o=i[0],a=i[1],c=(0,d.TH)(),f=(0,p.useRef)(null!==(e=null===(n=c.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies");(0,p.useEffect)((function(){(0,u.hd)(t).then(a)}),[t]);var h=null!==o&&void 0!==o?o:{},Z=h.poster,b=h.title,k=h.releaseYear,_=h.userScore,y=h.overview,P=h.genres;return(0,w.jsxs)("div",{children:[(0,w.jsx)(l.rU,{to:f.current,children:"Back to movies"}),o&&(0,w.jsxs)("div",{children:[(0,w.jsxs)(x,{children:[(0,w.jsx)(v,{src:Z,alt:b}),(0,w.jsxs)(m,{children:[(0,w.jsxs)("h2",{children:[b,"(",k,")"]}),(0,w.jsxs)("p",{children:["UserScore:",_,"%"]}),(0,w.jsx)("h3",{children:"Overview"}),(0,w.jsx)("p",{children:y}),(0,w.jsx)("h3",{children:"Genres"}),(0,w.jsx)("p",{children:P.map((function(e){return e.name})).join(" ")})]})]}),(0,w.jsx)(g,{children:"Additional information"}),(0,w.jsxs)("ul",{children:[(0,w.jsx)("li",{children:(0,w.jsx)(j,{to:"cast",state:f.current,children:"Cast"})}),(0,w.jsx)("li",{children:(0,w.jsx)(j,{to:"reviews",state:f.current,children:"Reviews"})})]}),(0,w.jsx)(d.j3,{})]})]})}}}]);
//# sourceMappingURL=582.5034a888.chunk.js.map